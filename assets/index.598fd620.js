import{c as B,j as a,F as x,a as r,C as v,T,P as k,u as s,b as l,B as p,d as b,e as w,f as g,S as u,g as h,s as y,L as M,G as m,h as W,R as j,i as S}from"./vendor.0c7f032f.js";const I=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}};I();const L=({children:e})=>{const n=B({palette:{mode:"dark",primary:{main:"#f5f5f5"},secondary:{main:"#424242"}}});return a(x,{children:[r(v,{}),r(T,{theme:n,children:r(k,{children:e})})]})},O=()=>{const{round:e,limit:n,remainingBoxes:t,tradeBoxAmount:c}=s(i=>i),o=()=>n===t?`You can open ${t} boxes in this round`:`${t} ${t===1?"more box":"boxes"} remaining`;return c===0?r(l,{textAlign:"center",variant:"h4",my:5,children:"Pick one box as your Tradebox"}):a(p,{my:5,children:[a(l,{textAlign:"center",variant:"h4",children:["Round ",e]}),r(l,{textAlign:"center",variant:"subtitle1",children:o()})]})},C=[1,5,10,25,50,75,100,150,200,300,400,500,750,1e3,5e3,1e4,25e3,5e4,75e3,1e5,2e5,3e5,4e5,5e5,75e4,1e6],D=e=>{let n=e.length,t;for(;n!==0;)t=Math.floor(Math.random()*n),n--,[e[n],e[t]]=[e[t],e[n]];return e},P={round:1,boxes:D(C).map((e,n)=>({number:n+1,amount:e,opened:!1})),moneyTree:C.sort((e,n)=>e-n),limit:6,remainingBoxes:6,roundComplete:!1,offerAmount:0,gameComplete:!1,amountWon:0,tradeBoxAmount:0,playerWon:!1},A=b({name:"App",initialState:P,reducers:{openBox:(e,n)=>{e.boxes[n.payload].opened=!0;const t=e.boxes[n.payload].amount;if(e.moneyTree.splice(e.moneyTree.indexOf(t),1),e.remainingBoxes-=1,e.remainingBoxes===0){e.round+=1,e.limit=e.limit!==1?e.limit-1:1,e.remainingBoxes=e.limit,e.roundComplete=!0;const c=e.moneyTree[0],o=e.moneyTree[e.moneyTree.length-1],i=Math.floor(Math.random()*(98-13)+13);e.offerAmount=Math.round((c+o)/2*(i/100))}},selectBox:(e,n)=>{e.tradeBoxAmount=e.boxes[n.payload].amount,e.boxes.splice(n.payload,1)},offerAccepted:e=>{e.amountWon=e.offerAmount,e.gameComplete=!0,e.playerWon=e.offerAmount>e.tradeBoxAmount},offerRejected:e=>{e.round===10?(e.gameComplete=!0,e.amountWon=e.tradeBoxAmount,e.playerWon=e.tradeBoxAmount>e.offerAmount):e.roundComplete=!1}}}),$=w({reducer:A.reducer,devTools:!0}),f=A.actions,N=()=>{const{offerAmount:e}=s(o=>o),n=g();return a(p,{py:10,children:[a(l,{textAlign:"center",variant:"h4",children:["Offer From Banker ",e]}),a(u,{direction:"row",spacing:2,alignItems:"center",justifyContent:"center",pt:2,children:[r(h,{variant:"contained",color:"success",size:"large",onClick:()=>{n(f.offerAccepted())},children:"Deal"}),r(h,{variant:"contained",color:"error",size:"large",onClick:()=>{n(f.offerRejected())},children:"NoDeal"})]})]})},R=()=>{const{amountWon:e,playerWon:n}=s(t=>t);return a(u,{height:"100vh",alignItems:"center",justifyContent:"center",spacing:5,children:[r(l,{variant:"h2",children:n?"Congratulations":"Better luck next time"}),a(l,{variant:"h4",children:["You Win: ",e]}),r(h,{variant:"outlined",fullWidth:!0,sx:{maxWidth:300},component:"a",href:"/deal-or-nodeal/",children:"Play Again"})]})},G=({box:e,onClick:n})=>{const t=y(p)(({theme:o})=>`
    background-color: ${e.opened?e.amount>1e3?o.palette.error.dark:o.palette.success.dark:o.palette.secondary.main};
    color: ${o.palette.primary.main};
    margin: ${o.spacing(1)};
    border-radius: 10px;
    width: 200px;
    height: 130px;
    display: flex;
    align-items: center;
    justify-content: center;
  `);return r(t,{onClick:()=>{e.opened||n(e)},children:r(l,{variant:"h3",children:e.opened?e.amount:e.number})})},V=({amount:e})=>{const n=y(M)(({theme:t})=>`
    background-color: ${t.palette.secondary.main};
    border-radius: 20px;
    max-width: 200px;
    margin: ${t.spacing(.5)};
  `);return r(n,{children:r(l,{margin:"0 auto",children:e})})},z=()=>{const{boxes:e,roundComplete:n,tradeBoxAmount:t}=s(i=>i),c=g(),o=i=>{t===0?c(f.selectBox(e.indexOf(i))):n||c(f.openBox(e.indexOf(i)))};return r(u,{direction:"row",flexWrap:"wrap",justifyContent:"center",children:e.map((i,d)=>r(G,{box:i,onClick:o},d))})},F=()=>{const{moneyTree:e}=s(n=>n);return a(x,{children:[r(l,{textAlign:"center",variant:"h5",children:"Money Tree"}),r(u,{direction:{xs:"row",lg:"column"},sx:E,children:e.map((n,t)=>r(V,{amount:n},t))})]})},E={flexWrap:"wrap",justifyContent:"center",alignItems:"center",py:2},Y=()=>{const{roundComplete:e}=s(n=>n);return a(m,{container:!0,py:5,children:[r(m,{item:!0,xs:12,children:e?r(N,{}):r(O,{})}),r(m,{item:!0,xs:12,lg:10,children:r(z,{})}),r(m,{item:!0,xs:12,lg:2,children:r(F,{})})]})},q=()=>{const{gameComplete:e}=s(n=>n);return e?r(R,{}):r(Y,{})},K=()=>r(W,{store:$,children:r(L,{children:r(q,{})})});j.render(r(S.StrictMode,{children:r(K,{})}),document.getElementById("root"));
